"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[274],{201:function(e,r,t){var n=t(591),i=t(502),c=n.Z.create({baseURL:i.Z.BASE_URL});c.defaults.headers.common={Authorization:"Bearer ".concat(i.Z.AUTH_TOKEN)},r.Z=c},502:function(e,r){var t=Object.freeze({BASE_URL:"https://api.themoviedb.org/3",AUTH_TOKEN:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMTU2NjY2YTM4MDg5YTViYWJkZTYxMDY0M2Q5ZjFiMiIsInN1YiI6IjY1MTZkODJmOWI4NjE2MDBjNWNhODViMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Z7svSSg1PRCQecW87TtoFDZ2Q6FReUtt3L8XvXbN6c4",ENDPOINT:Object.freeze({TRENDING:"/trending/movie/day",SEARCH_MOVIE:"/search/movie",MOVIE_DETAILS:"/movie",CREDITS:"/credits",REVIEWS:"/reviews"}),IMAGE_SRC:"https://image.tmdb.org/t/p/w500",QUERY:Object.freeze({LANGUAGE:"language=en-US"})});r.Z=t},554:function(e,r,t){var n=t(686);r.Z=function(e,r){return!e&&(n.Notify.failure(r),!0)}},33:function(e,r){var t=Object.freeze({IDDLE:"iddle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"});r.Z=t},274:function(e,r,t){t.r(r),t.d(r,{default:function(){return x}});var n=t(861),i=t(439),c=t(757),s=t.n(c),a=t(791),o=t(689),u=t(87),d=t(502),l=t(201),h=function(){var e=(0,n.Z)(s().mark((function e(r){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Z.get("".concat(d.Z.BASE_URL).concat(d.Z.ENDPOINT.MOVIE_DETAILS,"/").concat(r,"?").concat(d.Z.QUERY.LANGUAGE));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=h,E=t(554),f=t(33),p=t(830),j=t(184),x=function(){var e,r,t=(0,a.useState)(!1),c=(0,i.Z)(t,2),l=c[0],h=c[1],x=(0,a.useState)(f.Z.IDDLE),Z=(0,i.Z)(x,2),I=Z[0],D=Z[1],N=(0,o.UO)().movieId,m=(0,o.TH)(),R=(0,a.useRef)(null!==(e=null===(r=m.state)||void 0===r?void 0:r.from)&&void 0!==e?e:"/"),_=(0,a.useRef)(!1);(0,a.useEffect)((function(){D(f.Z.PENDING);var e=function(){var e=(0,n.Z)(s().mark((function e(){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v(N);case 3:r=e.sent,h(r),D(f.Z.RESOLVED),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),t=e.t0.message,_.current=(0,E.Z)(_.current,t),D(f.Z.REJECTED);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[N]);var g=l.title,O=l.vote_average,L=l.overview,T=l.genres,S=l.poster_path,b=S?d.Z.IMAGE_SRC+S:p;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(u.Link,{to:R.current,children:"Go back"}),I===f.Z.PENDING&&(0,j.jsx)("p",{children:"Loading..."}),I===f.Z.RESOLVED&&(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{style:{display:"flex"},children:[(0,j.jsx)("div",{children:(0,j.jsx)("img",{src:b,alt:g,height:"400"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{children:g}),(0,j.jsxs)("p",{children:["User score: ",Math.round(10*O),"%"]}),(0,j.jsx)("p",{children:"Overview"}),(0,j.jsx)("p",{children:L}),(0,j.jsx)("p",{children:"Genres"}),(0,j.jsx)("ul",{children:null===T||void 0===T?void 0:T.map((function(e){var r=e.id,t=e.name;return(0,j.jsx)("li",{children:(0,j.jsx)("p",{children:t})},r)}))})]})]}),(0,j.jsx)(u.Link,{to:"cast",children:"Cast"}),(0,j.jsx)(u.Link,{to:"reviews",children:"Reviews"}),(0,j.jsx)(a.Suspense,{fallback:(0,j.jsx)("p",{children:"Loading..."}),children:(0,j.jsx)(o.j3,{})})]}),I===f.Z.REJECTED&&(0,j.jsx)("p",{children:"We don't have movie details"})]})}},830:function(e,r,t){e.exports=t.p+"static/media/stopper_cat_poster.cd12e55746d58e158704.jpg"}}]);
//# sourceMappingURL=274.13eeeb0e.chunk.js.map