"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[709],{8201:function(n,e,t){var r=t(5294),a=t(1502),o=r.Z.create({baseURL:a.Z.BASE_URL});o.defaults.headers.common={Authorization:"Bearer ".concat(a.Z.AUTH_TOKEN)},e.Z=o},1502:function(n,e){var t=Object.freeze({BASE_URL:"https://api.themoviedb.org/3",AUTH_TOKEN:"eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIwMTU2NjY2YTM4MDg5YTViYWJkZTYxMDY0M2Q5ZjFiMiIsInN1YiI6IjY1MTZkODJmOWI4NjE2MDBjNWNhODViMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Z7svSSg1PRCQecW87TtoFDZ2Q6FReUtt3L8XvXbN6c4",ENDPOINT:Object.freeze({TRENDING:"/trending/movie/day",SEARCH_MOVIE:"/search/movie",MOVIE_DETAILS:"/movie",CREDITS:"/credits",REVIEWS:"/reviews"}),IMAGE_SRC:"https://image.tmdb.org/t/p/w500",QUERY:Object.freeze({LANGUAGE:"language=en-US"})});e.Z=t},1196:function(n,e,t){t.d(e,{Z:function(){return E}});var r,a,o,i=t(7689),c=t(1502),s=t(3830),u=t(1087),f=t(168),p=t(5867),d=p.ZP.li(r||(r=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  padding: 14px;\n  border: 2px solid #fafafa;\n  border-radius: 10px;\n  max-width: 278px;\n\n  -webkit-box-shadow: 3px 7px 18px -4px rgba(250, 250, 250, 1);\n  -moz-box-shadow: 3px 7px 18px -4px rgba(250, 250, 250, 1);\n  box-shadow: 3px 7px 18px -4px rgba(250, 250, 250, 1);\n"]))),l=p.ZP.h3(a||(a=(0,f.Z)(["\n  margin-top: 16px;\n  text-align: center;\n"]))),x=t(184),Z=function(n){var e=n.location,t=n.id,r=n.imageSrc,a=n.title;return(0,x.jsx)(d,{children:(0,x.jsxs)(u.Link,{to:"/movies/".concat(t),state:{from:e},children:[(0,x.jsx)("img",{src:r,alt:a,width:"250"}),(0,x.jsx)(l,{children:a})]})})},m=p.ZP.ul(o||(o=(0,f.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  gap: 32px;\n"]))),E=function(n){var e=n.movies,t=(0,i.TH)();return(0,x.jsx)(m,{children:e.map((function(n){var e=n.id,r=n.title,a=n.poster_path,o=a?c.Z.IMAGE_SRC+a:s;return(0,x.jsx)(Z,{location:t,id:e,imageSrc:o,title:r},e)}))})}},3554:function(n,e,t){var r=t(1686);e.Z=function(n,e){return!n&&(r.Notify.failure(e),!0)}},2033:function(n,e){var t=Object.freeze({IDDLE:"iddle",PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"});e.Z=t},6709:function(n,e,t){t.r(e),t.d(e,{default:function(){return R}});var r,a,o,i,c=t(5861),s=t(9439),u=t(7757),f=t.n(u),p=t(2791),d=t(1087),l=t(8201),x=t(1502),Z=function(){var n=(0,c.Z)(f().mark((function n(){var e,t,r,a=arguments;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:"batman",t=a.length>1&&void 0!==a[1]?a[1]:1,n.next=4,l.Z.get("".concat(x.Z.ENDPOINT.SEARCH_MOVIE,"?").concat(x.Z.QUERY.LANGUAGE,"&query=").concat(e,"&page=").concat(t));case 4:return r=n.sent,n.abrupt("return",r.data);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),m=Z,E=t(2033),h=t(3554),g=t(1196),v=t(168),b=t(5867),j=b.ZP.section(r||(r=(0,v.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 16px;\n"]))),I=b.ZP.form(a||(a=(0,v.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 16px;\n"]))),D=b.ZP.input(o||(o=(0,v.Z)(["\n  padding: 8px 12px;\n  font-size: 18px;\n  color: #fafafa;\n  background-color: transparent;\n  border: 2px solid #fafafa;\n  border-radius: 8px;\n  width: 280px;\n"]))),N=b.ZP.button(i||(i=(0,v.Z)(["\n  padding: 8px 20px;\n  font-size: 18px;\n  color: #252525;\n  background-color: #fafafa;\n  border: 2px solid #252525;\n  transition: color 250ms ease-in-out 50ms,\n    background-color 250ms ease-in-out 50ms, border-color 250ms ease-in-out 50ms;\n\n  &:hover {\n    color: #fafafa;\n    background-color: transparent;\n    border-color: #fafafa;\n  }\n\n  &:focus {\n    color: #fafafa;\n    background-color: transparent;\n    border-color: #fafafa;\n  }\n"]))),y=t(630),w=t(184),R=function(){var n,e=(0,p.useState)([]),t=(0,s.Z)(e,2),r=t[0],a=t[1],o=(0,p.useState)(E.Z.IDDLE),i=(0,s.Z)(o,2),u=i[0],l=i[1],x=(0,p.useRef)(!1),Z=(0,d.useSearchParams)(),v=(0,s.Z)(Z,2),b=v[0],R=v[1],S=null!==(n=b.get("query"))&&void 0!==n?n:"";(0,p.useEffect)((function(){if(S){l(E.Z.PENDING);var n=function(){var n=(0,c.Z)(f().mark((function n(){var e,t;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,m(S);case 3:e=n.sent,a(e.results),l(E.Z.RESOLVED),e.results.length||l(E.Z.REJECTED),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),t=n.t0.message,x.current=(0,h.Z)(x.current,t),l(E.Z.REJECTED);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();n()}else a([])}),[S]);return(0,w.jsxs)(j,{children:[(0,w.jsx)("h2",{children:"Movies"}),(0,w.jsxs)(I,{action:"submit",onSubmit:function(n){n.preventDefault();var e=n.target.query.value,t=""!==e.trim()?{query:e.trim()}:{};R(t),n.currentTarget.reset()},children:[(0,w.jsx)(D,{type:"text",name:"query"}),(0,w.jsx)(N,{type:"submit",children:"Search"})]}),u===E.Z.PENDING&&(0,w.jsx)(y.Z,{}),u===E.Z.RESOLVED&&(0,w.jsx)(g.Z,{movies:r}),u===E.Z.REJECTED&&(0,w.jsx)("p",{children:"We don't have any movie"})]})}},3830:function(n,e,t){n.exports=t.p+"static/media/stopper_cat_poster.cd12e55746d58e158704.jpg"}}]);
//# sourceMappingURL=709.5f571272.chunk.js.map